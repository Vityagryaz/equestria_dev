<<<<<<< HEAD
focus_tree = {
	id = crystalempire
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = CRY
		}
	}
	default = no
	continuous_focus_position = { x = 1 y = 1600 }
	focus = {
		id = CRY_wintersun #Winter Sun Celebration (PP buff)
		icon = GFX_goal_winter_sun
		cost = 7
		x = 1
		y = 0
		ai_will_do = {
			factor = 5
		}
		bypass = {
			date > 1007.11.3
		}
		completion_reward = {
			country_event = { id = cryscr.1 days = 1 }
		}
	}
	focus = { #Flurry Heart kek (NU buff)
		id = CRY_crystallinganniversary
		icon = GFX_goal_crystalling
		cost = 7
		x = 7
		y = 0
		ai_will_do = {
			factor = 5
		}
		available = {
			has_government = democratic
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			country_event = { id = cryscr.2 days = 2 }
			effect_tooltip = {
				add_political_power = 10
				add_popularity = { ideology = fascism popularity = 0.03 }
				add_popularity = { ideology = communism popularity = 0.05 }
				swap_ideas = { remove_idea = royal_family add_idea = royal_family2 }
			}
		}
	}
	focus = { #Equestria Games (PP Buff)
		id = CRY_equestriagames
		icon = GFX_goal_equestria_games
		cost = 5
		x = 13
		y = 0
		ai_will_do = {
			factor = 10
		}
		bypass = {
			has_global_flag  = friendship_games_flag
		}
		available = {
			has_government = democratic
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			country_event = {
				id = cryscr.4 days = 1
			}
		}
	}
	focus = { #Military training (Manpower+, Discipline+)
		id = CRY_military
		icon = GFX_goal_cry_military
		cost = 10
		x = 28
		y = 1
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			add_manpower = 8000
			add_timed_idea = { idea = army_morale days = 720}
			army_experience = 40
		}
	}

	focus = { #Grand crystal festival (PP Buff, NU buff, something else buffed)
		id = CRY_grandfestival
		icon = GFX_goal_cry_festival
		cost = 10
		x = 3
		y = 1
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				has_government = fascism
			}
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			country_event = { id = cryscr.10 days = 1 }
			add_timed_idea = { idea = grand_festival days = 30}
		}
	}
	focus = { #Crystal Faire
		id = CRY_crystalfaire
		icon = GFX_goal_crystal_heart_cry
		cost = 7
		x = 9
		y = 1
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				has_government = fascism
			}
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			country_event = {
				id = cryscr.5 days  = 1
			}
		}

	}
	focus = {
		id = CRY_umbruminitial ## Underground meeting
		icon = GFX_goal_tea_cry
		cost = 3
		x = 12
		y = 2
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = invitation_to_join_the_club
			NOT = { has_country_flag = CRY_solar_governorship }
			NOT = { has_completed_focus = CRY_communistideas }
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		completion_reward = {
			country_event = { id = cryscr.15 days = 1 }
		}
	}
	focus = { #
		id = CRY_librarywork
		icon = GFX_goal_cry_book
		cost = 5
		x = 12
		y = 3
		ai_will_do = {
			factor = 20
		}
		prerequisite = {
			focus = CRY_umbruminitial
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		available = {
			has_country_flag = joined_the_club
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			country_event = { id = cryscr.23 days = 1 }
		}

	}
	focus = { #
		id = CRY_search_for_the_artifact
		icon = GFX_goal_dark_heart
		cost = 6
		prerequisite = {
			focus = CRY_librarywork
		}
		ai_will_do = {
			factor = 20
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		available = {
			has_country_flag = learned_about_the_crystals
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 4
		completion_reward = {
			country_event = {
				id = cryscr.30 days = 1
			}
			set_country_flag = dark_heart_in_progress
		}

	}
	focus = { #
		id = CRY_active_crystals
		icon = GFX_goal_crystals_cry
		cost = 10
		x = 13
		y = 4
		prerequisite = {
			focus = CRY_librarywork
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_flag = learned_about_the_crystals
			NOT = { has_country_flag = dark_heart_in_progress }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		completion_reward = {
			country_event = {
				id = cryscr.48 days = 5
			}
		}
	}

	focus = {
		id = CRY_fame
		icon = GFX_goal_crystal_empire_symbol_cry
		cost = 10
		prerequisite = {
			focus = CRY_grandfestival
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = invitation_to_join_the_club }
		}
		prerequisite = {
			focus = CRY_crystalfaire
		}
		x = 3
		y = 3
		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.08 }
			add_popularity = { ideology = neutrality popularity = 0.08 }
			add_popularity = { ideology = communism popularity = 0.03 }
		}

	}
	focus = {
		id = CRY_oldorder
		icon = GFX_goal_crystal_empire_symbol_flowers
		cost = 10
		prerequisite = {
			focus = CRY_fame
		}
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = CRY_neworder
		}
		available = {
			NOT = { has_global_flag = sombra_returned }
		}
		bypass = { has_country_flag = CRY_solar_governorship }
		x = 1
		y = 5
		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.05 }
			add_political_power = 50
		}
	}
	focus = {
		id = CRY_neworder
		icon = GFX_goal_crystal_empire_symbol_cry
		cost = 10
		prerequisite = {
			focus = CRY_fame
		}
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = CRY_oldorder
		}
		available = {
			NOT = { has_global_flag = sombra_returned }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 5
		y = 5
		completion_reward = {
			add_popularity = { ideology = democratic popularity = -0.03 }
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_popularity = { ideology = neutrality popularity = 0.08 }
			add_popularity = { ideology = communism popularity = 0.08 }
		}
	}
	focus = {
		id = CRY_olddignity
		icon = GFX_goal_unknown
		cost = 10
		prerequisite = {
			focus = CRY_neworder
		}
		mutually_exclusive = {
			focus = CRY_communistideas
		}
		available = {
			NOT = { has_government = fascism }
			NOT = { has_country_flag = CRY_solar_governorship }
			NOT = { has_global_flag = sombra_returned }
		}
		available = {
			neutrality > 0.4
		}
		completion_reward = {
			add_ideas = idea_old_dignity
		}
		x = 6
		y = 7

	}
	focus = {
		id = CRY_aristocracy
		icon = GFX_goal_unknown
		cost = 10
		prerequisite = {
			focus = CRY_olddignity
		}
		available = {
			NOT = { has_government = fascism }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		mutually_exclusive = {
			focus = CRY_militia
		}
		completion_reward = {
			add_ideas = supported_aristrocrats
			add_ideas = political_turmoil
			create_country_leader = {
				name = "Prince Calcite"
				expire = "1965.1.1"
				ideology = despotism
				picture = "Calcite.tga"
				traits = { staunch_monarchist }
			}
		}
		x = 5
		y = 8

	}
	focus = {
		id = CRY_militia
		icon = GFX_goal_unknown
		cost = 10
		prerequisite = {
			focus = CRY_olddignity
		}
		available = {
			NOT = { has_government = fascism }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		mutually_exclusive = {
			focus = CRY_aristocracy
		}
		completion_reward = {
			add_ideas = supported_militia
			add_ideas = political_turmoil
			create_country_leader = {
				name = "Field Marschal Colloid"
				expire = "1965.1.1"
				ideology = centrism
				picture = "Colloid.tga"
				traits = { triumphant_revolutionary staunch_monarchist }
			}
		}
		x = 7
		y = 8

	}
	focus = {
		id = CRY_revolution
		icon = GFX_goal_unknown
		cost = 10
		prerequisite = {
			focus = CRY_militia
			focus = CRY_aristocracy
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			country_event = { days = 5 id = crystalemp.9 }
			hidden_effect = {
				news_event = { id = news.cry.0 days = 1 }
			}
		}
		x = 6
		y = 9

	}
	focus = {
		id = CRY_independence
		icon = GFX_goal_unknown
		cost = 10
		available = {
			has_government = neutrality
		}
		prerequisite = {
			focus = CRY_revolution
		}
		bypass = {
			is_subject = no
		}
		available = {
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			EQS = { country_event = { days = 1 id = crystalemp.12 } }
			hidden_effect = {
				news_event = { id = news.cry.1 days = 1 }
			}

		}

		x = 6
		y = 11
	}
	#####################################################################
	########### SOMBRA FINALS / TAKES POWER #############################
	#####################################################################
	focus = {
		id = CRY_crystalheartstolen
		icon = GFX_goal_sombra_return
		cost = 6
		prerequisite = {
			focus = CRY_active_crystals
			focus = CRY_search_for_the_artifact
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = dark_heart_is_ready
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 12
		y = 6
		completion_reward = {
			custom_effect_tooltip = sombra_return_tt
		}
	}
	focus = {
		id = CRY_oldking
		icon = GFX_goal_crystal_palace
		cost = 2
		prerequisite = {
			focus = CRY_crystalheartstolen
		}
		ai_will_do = {
			factor = 10
		}
		x = 12
		y = 11
		available = {
			has_global_flag = sombra_returned
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			add_political_power = 150
			add_country_leader_trait = sombra_leader
		}
	}
	focus = {
		id = CRY_militarisation
		icon = GFX_goal_sombra_defense
		cost = 3
		prerequisite = {
			focus = CRY_oldking
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 14
		completion_reward = {
			add_timed_idea = { idea = sombra_military_effort days = 400 }
			country_event = { id = crysom.14 days = 1 }
		}
	}
	focus = {
		id = CRY_umbrumarmy
		icon = GFX_goal_sombarmy
		cost = 5
		prerequisite = {
			focus = CRY_militarisation
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 100
				OR = {
					has_war_with = EQS
					has_civil_war = yes
				}
			}
		}
		x = 16
		y = 15
		completion_reward = {
			add_timed_idea = { idea = umbarmiya days = 230 }
			country_event = { id = crysom.15 days = 1 }
			hidden_effect = {
				load_oob = "CRY_SOM_devoted_army"
			}
		}
	}
	focus = {
		id = CRY_conquest
		icon = GFX_goal_som_equestria
		cost = 1
		prerequisite = {
			focus = CRY_militarisation
		}
		will_lead_to_war_with = EQS
		ai_will_do = {
			factor = 5
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		bypass = {
			has_war_with = EQS
		}
		available = { NOT = { has_civil_war = yes } }
		x = 6
		y = 15
		completion_reward = {
			country_event = {
				id = crysom.19 days = 1
			}
		}
	}
	focus = {
		id = CRY_somammocomplex
		icon = GFX_goal_sombra_factory
		cost = 10
		prerequisite = {
			focus = CRY_umbrumarmy
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 10
		}
		x = 16
		y = 16
		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = sombra_arms
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_somarmory
		icon = GFX_goal_somtanks
		cost = 10
		prerequisite = {
			focus = CRY_somammocomplex
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 10
		}
		x = 16
		y = 17
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 2
				category = armor
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_somequipment
		icon = GFX_goal_CRY_somequipment
		cost = 10
		prerequisite = {
			focus = CRY_somarmory
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 16
		y = 18
		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.45
				uses = 2
				category = infantry_weapons
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_somtories
		icon = GFX_goal_sombra_factory
		cost = 10
		prerequisite = {
			focus = CRY_somindustry
		}
		ai_will_do = {
			factor = 10
		}
		x = 13
		y = 16
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward ={
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_consumergoods
		icon = GFX_goal_cry_factory
		cost = 3
		prerequisite = {
			focus = CRY_industry_f
		}
		ai_will_do = {
			factor = 20
		}
		x = 31
		y = 4
		available = {
			has_war = yes
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			add_ideas = CRY_austerity_measures
		}
	}
	focus = {
		id = CRY_somlogistics
		icon = GFX_goal_som_railway
		cost = 7
		prerequisite = {
			focus = CRY_somindustry
		}
		ai_will_do = {
			factor = 6
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 16
		completion_reward = {
			152 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			151 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			53 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			345 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			344 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			144 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			147 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			146 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_sominstitute
		icon = GFX_goal_institute_CRY
		cost = 6
		prerequisite = {
			focus = CRY_somindustry
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 20
		}
		x = 10
		y = 17
		completion_reward = {
			add_research_slot = 1
		}
	}
	focus = {
		id = CRY_somdarkcrystals
		icon = GFX_goal_crystals_cry
		cost = 15
		prerequisite = {
			focus = CRY_sominstitute
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = fascism
		}
		x = 12
		y = 18
		completion_reward = {
			add_timed_idea = {
				idea = crystal_buff days = 450
			}
		}
	}
	focus = {
		id = CRY_somdarkmagic
		icon = GFX_goal_cry_dark_magic
		cost = 5
		prerequisite = {
			focus = CRY_sominstitute
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 18
		completion_reward = {
			add_ideas = sombra_dark_magic
		}
	}
	focus = {
		id = CRY_fearwar
		icon = GFX_goal_cry_fearwar
		cost = 8
		prerequisite = {
			focus = CRY_somdarkmagic
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 19
		completion_reward = {
			swap_ideas = { add_idea = sombra_dark_magic1 remove_idea = sombra_dark_magic }
		}
	}
	focus = {
		id = CRY_mind_controlling
		icon = GFX_goal_cry_mind_controlling
		cost = 10
		prerequisite = {
			focus = CRY_evilgenius
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 21
		completion_reward = {
			swap_ideas = { add_idea = sombra_dark_magic2 remove_idea = sombra_dark_magic1 }
		}
	}
	focus = {
		id = CRY_darkar
		icon = GFX_goal_darkar
		cost = 10
		prerequisite = {
			focus = CRY_somdarkcrystals
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 12
		y = 19
		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = darkar_design
		}

	}
	focus = {
		id = CRY_evilgenius
		icon = GFX_goal_cry_evil_genius
		cost = 10
		prerequisite = {
			focus = CRY_darkar
			focus = CRY_fearwar
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 20
		completion_reward = {
			add_ideas = evil_genius
		}
	}
	focus = {
		id = CRY_evilgenius2
		icon = GFX_goal_sombra_magic
		cost = 12
		prerequisite = {
			focus = CRY_evilgenius
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 13
		y = 21
		completion_reward = {
			swap_ideas = { remove_idea = evil_genius add_idea = evil_genius2 }

		}
	}
	focus = {
		id = CRY_somdustrial_concerns
		icon = GFX_goal_som_concerns
		cost = 10
		prerequisite = {
			focus = CRY_somindustry
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 14
		y = 17
		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = citrum
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = nyx
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ventus
		}
	}
	focus = {
		id = CRY_nuke
		icon = GFX_goal_som_destroyer_of_worlds
		cost = 10
		prerequisite = {
			focus = CRY_mind_controlling
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 10
		}
		x = 11
		y = 22
		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 2
				category = nuclear
			}
		}
	}
	focus = {
		id = CRY_miamorefate
		icon = GFX_goal_miamorefate
		cost = 2
		prerequisite = {
			focus = CRY_independence
			focus = CRY_oldking
			focus = CRY_comrevolution
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = larger_civil_war
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 14
		y = 13
		completion_reward = {
			country_event = {
				id = crysom.42 days = 1
			}
		}
	}
	focus = {
		id = CRY_somtechconcerns
		icon = GFX_goal_som_technology
		cost = 10
		prerequisite = {
			focus = CRY_umbrumarmy
		}
		ai_will_do = {
			factor = 10
		}
		x = 18
		y = 16
		completion_reward = {
			add_tech_bonus = {
				name = support_bonus
				bonus = 0.5
				uses = 2
				category = engineers_tech
				category = recon_tech
				category = military_police_tech
			}
		}
	}
	focus = {
		id = CRY_somviation
		icon = GFX_goal_somaviation
		cost = 10
		prerequisite = {
			focus = CRY_somarmory
		}
		ai_will_do = {
			factor = 5
		}
		x = 18
		y = 18
		completion_reward = {
			add_tech_bonus = {
				name = aviation_bonus
				bonus = 0.5
				uses = 2
				technology = strategic_bomber1
				technology = strategic_bomber2
				technology = strategic_bomber3
				technology = fighter1
				technology = fighter2
				category = tactical_bomber
			}
		}
	}
	focus = { ## some bonus or more factories i guesss
		id = CRY_strength
		icon = GFX_goal_cry_factory
		cost = 10
		prerequisite = {
			focus = CRY_grandfestival
			focus = CRY_crystalfaire
			focus = CRY_wintersun
			focus = CRY_crystallinganniversary
		}
		ai_will_do = {
			factor = 9
		}
		x = 23
		y = 2
		completion_reward = {
			345 = { add_extra_state_shared_building_slots = 3
				add_building_construction = { type = industrial_complex
					level = 3
					instant_build = yes }
			}
		}
	}
	focus = { ## bonus there
		id = CRY_innovations
		icon = GFX_goal_cry_innovation
		cost = 10
		prerequisite = {
			focus = CRY_strength
		}
		ai_will_do = {
			factor = 9
		}
		x = 23
		y = 3
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.50
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 0.50
				uses = 1
				category = electronics
			}
		}
	}
	focus = { # open material designers
		id = CRY_concerns
		icon = GFX_goal_cry_list
		cost = 10
		prerequisite = {
			focus = CRY_innovations
		}
		ai_will_do = {
			factor = 9
		}
		x = 21
		y = 4
		available = {
			has_government = democratic
		}
		completion_reward = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.6
				uses = 1
				category = infantry_weapons
			}
		}
	}
	focus = { ## resear
		id = CRY_rndinstitute
		icon = GFX_goal_cryacademy
		cost = 10
		prerequisite = {
			focus = CRY_innovations
		}
		ai_will_do = {
			factor = 9
		}
		x = 23
		y = 5
		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = amethyst_university
		}
	}
	focus = {
		id = CRY_magicalconceptions
		icon = GFX_goal_magical_conception
		cost = 7
		prerequisite = {
			focus = CRY_rndinstitute
		}
		ai_will_do = {
			factor = 9
		}
		x = 25
		y = 6
		completion_reward = {
			add_tech_bonus = {
				name = unicorn_bonus
				bonus = 0.5
				uses = 2
				category = unicorn_tech
			}
			add_tech_bonus = {
				name = unicorn_bonus2
				bonus = 0.5
				ahead_reduction = 1
				category = magical_tech
			}
		}
	}
	focus = {
		id = CRY_magicalsource
		icon = GFX_goal_magic_cry
		cost = 10
		prerequisite = {
			focus = CRY_magicalconceptions
		}
		ai_will_do = {
			factor = 9
		}
		x = 24
		y = 7
		completion_reward = {
			country_event = {
				id = crystalemp.18 days = 1
			}
			effect_tooltip = {
				add_ideas = magical_power
			}
		}
	}
	focus = {
		id = CRY_mining
		icon = GFX_goal_pickaxe
		cost = 10
		prerequisite = {
			focus = CRY_innovations
		}
		ai_will_do = {
			factor = 9
		}
		x = 26
		y = 4
		completion_reward = {
			add_resource = {
				type = oil
				amount = 15
				state = 53
			}
			add_resource = {
				type = rubber
				amount = 20
				state = 53
			}
		}
	}
	focus = {
		id = CRY_steel_factories_in_crystal_city
		icon = GFX_goal_cry_factory
		cost = 10
		prerequisite = {
			focus = CRY_innovations
		}
		ai_will_do = {
			factor = 9
		}
		x = 25
		y = 5
		completion_reward = {
			add_resource = {
				type = steel
				amount = 25
				state = 345
			}
		}
	}
	focus = {
		id = CRY_stgadvisory
		icon = GFX_goal_cry_stalliongrad
		cost = 10
		prerequisite = {
			focus = CRY_comrevolution
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = communism
		}
		bypass = {
			STG = {
				OR = {
					has_country_flag = darkwing_elected
					NOT = { has_government = communism }
					exists = no
				}
			}
		}
		x = 21
		y = 12
		completion_reward = {
			country_event = {
				id = crycom.4 days = 1
			}
		}
	}
	focus = {
		id = CRY_ministry
		icon = GFX_goal_cry_com_ministry
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = communism
		}
		x = 25
		y = 14
		completion_reward = {
			add_ideas = ministry_of_defense
		}
	}
	focus = {
		id = CRY_proletary
		icon = GFX_goal_cry_star
		cost = 10
		prerequisite = {
			focus = CRY_ministry
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = communism
		}
		x = 25
		y = 15
		completion_reward = {
			swap_ideas = {
				remove_idea = CRY_inexperienced_officers add_idea = CRY_military_school
			}
			hidden_effect = {
				remove_ideas = communist_influence
			}
			add_ideas = CRY_ponies_army
		}
	}
	focus = {
		id = CRY_risingstorm
		icon = GFX_goal_cry_rising_storm
		cost = 10
		prerequisite = {
			focus = CRY_military
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_war_with = CHN
			has_government = democratic
		}
		x = 27
		y = 2
		completion_reward = {
			custom_effect_tooltip = rising_storm_troops_will_appear
			hidden_effect = {
				load_oob = "CRY_rising_storm"
			}
			add_war_support = 0.1
		}
	}
	focus = {
		id = CRY_researchagreement
		icon = GFX_goal_cry_com_atom
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		ai_will_do = {
			factor = 15
		}
		x = 27
		y = 14
		available = {
			has_country_flag = STG_agreed_cooperation
			has_government = communism
		}
		completion_reward = {
			country_event = {
				id = crycom.7 days = 1
			}
			STG = {
				country_event = {
					id = stalliongrad.101 days = 1 }
			}
		}
	}
	focus = {
		id = CRY_synchrophasetron
		icon = GFX_goal_cry_com_sync
		cost = 10
		available = {
			OR = {
				has_completed_focus = CRY_researchagreement
				AND = {
					has_completed_focus = CRY_collectivisation
					has_completed_focus = CRY_welfare
					has_completed_focus = CRY_pyatiletka
					has_completed_focus = CRY_stgindustry
				}
			}
		}
		ai_will_do = {
			factor = 20
		}
		x = 27
		y = 15
		completion_reward ={
			add_ideas = CRY_synchrophasetron_bonus
		}
	}
	focus = {
		id = CRY_magic_of_proletariat
		icon = GFX_goal_cry_com_magic
		cost = 10
		prerequisite = {
			focus = CRY_synchrophasetron
		}
		available = {
			has_government = communism
		}
		ai_will_do = {
			factor = 20
		}
		x = 27
		y = 16
		completion_reward ={
			add_ideas = magic_of_proletariat
		}
	}
	focus = {
		id = CRY_industry_f
		icon = GFX_goal_cry_factory
		cost = 10
		prerequisite = {
			focus = CRY_military
		}
		available = {

		}
		ai_will_do = {
			factor = 20
		}
		x = 28
		y = 3
		completion_reward ={
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_crystals
		icon = GFX_goal_cry_harm_crystals
		cost = 10
		prerequisite = {
			focus = CRY_rndinstitute
		}
		ai_will_do = {
			factor = 15
		}
		x = 21
		y = 6
		available = {
			has_government = democratic
		}
		completion_reward = {
			add_ideas = CRY_harmony_crystals
		}
	}
	focus = {
		id = CRY_heavytanks
		icon = GFX_goal_cry_heavy_tanks
		cost = 10
		prerequisite = {
			focus = CRY_industry_f
			focus = CRY_crystals
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = democratic
		}
		x = 28
		y = 7
		completion_reward = {
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.45
				uses = 2
				category = cat_heavy_armor
			}
		}
	}
	focus = {
		id = CRY_newpowersource
		icon = GFX_goal_magic_cry
		cost = 10
		prerequisite = {
			focus = CRY_crystals
		}
		ai_will_do = {
			factor = 15
		}
		x = 22
		y = 7
		available = {
			has_government = democratic
		}
		completion_reward = {
			add_political_power = 50
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.8
				uses = 1
				category = nuclear
			}
			add_tech_bonus = {
				name = secret_bonus33
				ahead_reduction = 0.7
				uses = 2
				category = nuclear
			}
		}
	}
	focus = {
		id = CRY_sciencerevolution
		icon = GFX_goal_cry_sciencerevolution
		cost = 10
		prerequisite = {
			focus = CRY_newpowersource
			focus = CRY_magicalsource
		}
		ai_will_do = {
			factor = 15
		}
		available = { has_government = democratic }
		x = 23
		y = 9
		completion_reward = {
			add_ideas = CRY_science
			add_tech_bonus = {
				name = jet_bonus
				bonus = 0.5
				uses = 1
				category = jet_technology
			}
		}
	}
	focus = {
		id = CRY_fortifications
		icon = GFX_goal_cry_forts
		cost = 10
		prerequisite = {
			focus = CRY_military
		}
		x = 29
		y = 2
		completion_reward = {
			add_timed_idea = { idea = CRY_fortifications_bonus days = 350 }
		}
	}
	focus = {
		id = CRY_gunfactories
		icon = GFX_goal_cry_gunfactories
		cost = 10
		prerequisite = {
			focus = CRY_industry_f
		}
		available = {
			has_war = yes
		}
		x = 29
		y = 4
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = arms_factory
					level = 4
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_machinisation
		icon = GFX_goal_cry_mechanization
		cost = 10
		prerequisite = {
			focus = CRY_rndinstitute
			focus = CRY_industry_f
		}
		x = 29
		y = 6
		completion_reward = {
			add_tech_bonus = {
				name = ukekbonus
				bonus = 0.5
				uses = 1
				category = motorized_equipment
			}
			add_tech_bonus = {
				name = ukekbonus
				bonus = 0.37
				uses = 1
				category = cat_mechanized_equipment
			}
		}
	}
	focus = {
		id = CRY_crystalscom
		icon = GFX_goal_cry_com_crystals
		cost = 10
		prerequisite = {
			focus = CRY_rndinstitute
		}
		prerequisite = {
			focus = CRY_researchagreement
		}
		available = {
			has_government = communism
		}
		x = 29
		y = 15
		completion_reward = {
			add_ideas = CRY_communist_crystals
		}
	}
	focus = {
		id = CRY_altersource
		icon = GFX_goal_altersource
		cost = 10
		prerequisite = {
			focus = CRY_crystalscom
		}
		prerequisite = {
			focus = CRY_synchrophasetron
		}
		x = 29
		y = 16
		completion_reward = {
			swap_ideas = { add_idea = CRY_synchrophasetron_bonus1 remove_idea = CRY_synchrophasetron_bonus }
		}
	}
	focus = {
		id = CRY_aviation
		icon = GFX_goal_cry_aviation
		cost = 10
		prerequisite = {
			focus = CRY_magicalsource
			focus = CRY_newpowersource
		}
		x = 30
		y = 8
		completion_reward = {
			add_tech_bonus = {
				name = aircraft_bonus
				bonus = 0.5
				uses = 2
				category = light_air
			}
		}
	}
	focus = {
		id = CRY_rocketengineering
		icon = GFX_goal_cry_rocketry
		cost = 10
		prerequisite = {
			focus = CRY_aviation
		}
		x = 30
		y = 9
		completion_reward = {
			add_tech_bonus = {
				name = flocke_von_schnee
				bonus = 0.5
				uses = 1
				category = rocketry
			}
		}
	}
	focus = {
		id = CRY_miamore
		icon = GFX_goal_miamore
		cost = 10
		prerequisite = {
			focus = CRY_oldorder
		}
		bypass = {
			has_country_flag = CRY_solar_governorship
		}
		x = 1
		y = 7
		completion_reward = {
			add_political_power = 40
			add_popularity = { ideology = democratic popularity = 0.1 }
			country_event = {
				id = cryscr.9 days = 1
			}
			effect_tooltip = {
				if = {
					limit = { has_idea = royal_family2 }
					swap_ideas = { remove_idea = royal_family2 add_idea = royal_family3 }
				}
				else = {
					swap_ideas = { remove_idea = royal_family add_idea = royal_family2 }
				}
			}
		}
	}
	focus = {
		id = CRY_subordination
		icon = GFX_goal_cry_subordination
		cost = 10
		prerequisite = {
			focus = CRY_miamore
		}
		mutually_exclusive = {
			focus = CRY_independence_referendum
		}
		available = {
			has_government = democratic
			overlord = { has_government = democratic tag = EQS }
			has_civil_war = no
		}
		x = 0
		y = 11
		completion_reward = {
			country_event = {
				id = crystalemp.21 days = 1
			}
		}
	}
	focus = {
		id = CRY_independence_referendum
		icon = GFX_goal_cry_referendum
		cost = 10
		mutually_exclusive = { focus = CRY_subordination }
		prerequisite = {
			focus = CRY_miamore
		}
		available = {
			has_government = democratic
			overlord = { has_government = democratic tag = EQS}
			has_civil_war = no
		}
		x = 2
		y = 11
		completion_reward = {
			country_event = {
				id = crystalemp.20 days = 1
			}
		}
	}
	focus = {
		id = CRY_eqsadvisors
		icon = GFX_goal_cry_eqs_hat
		cost = 10
		prerequisite = {
			focus = CRY_miamore
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 2
		y = 8
		completion_reward = {
			add_ideas = equestrian_advisors
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.45
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = CRY_eqsforces
		icon = GFX_goal_cry_celestia
		cost = 10
		prerequisite = {
			focus = CRY_miamore
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 0
		y = 8
		completion_reward = {
			custom_effect_tooltip = harmony_advisors_cry
			hidden_effect = {
				load_oob = "CRY_equestrian_help"
			}
		}
	}
	focus = {
		id = CRY_eqsengineers
		icon = GFX_goal_cry_engineering
		cost = 10
		prerequisite = {
			focus = CRY_eqsforces
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 0
		y = 9
		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.20
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.20
				uses = 1
				category = electronics
			}
			swap_ideas = {
				remove_idea = equestrian_overlord add_idea = equestrian_overlord2
			}
		}
	}
	focus = {
		id = CRY_eqsfactories
		icon = GFX_goal_cry_factory_cel
		cost = 10
		prerequisite = {
			focus = CRY_eqsadvisors
			focus = CRY_eqsadvisors
			focus = CRY_eqsengineers
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 2
		y = 10
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_medicine_focus
		icon = GFX_goal_cry_medicine
		cost = 13
		prerequisite = {
			focus = CRY_rndinstitute
			focus = CRY_industry_f
		}
		available = {
			has_government = democratic
		}
		x = 31
		y = 6
		completion_reward = {
			add_tech_bonus = {
				name = hospital_tech_bonus
				bonus = 0.4
				uses = 2
				category = hospital_tech
			}
			add_ideas = CRY_medicine
		}
	}
	focus = {
		id = CRY_somindustry
		icon = GFX_goal_sombra_factory
		cost = 6
		prerequisite = {
			focus = CRY_militarisation
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 15
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_chgalliance
		icon = GFX_goal_som_chrysalis
		cost = 3
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_chgconquest
		}
		x = 4
		y = 16
		completion_reward = {
			country_event = {
				id = crysom.25 days = 1
			}
		}
	}
	focus = {
		id = CRY_chgconquest
		icon = GFX_goal_som_changeling
		cost = 9
		will_lead_to_war_with = CHN
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_chgalliance
		}
		bypass = {
			has_war_with = CHN
		}
		available = { country_exists = CHN }
		x = 8
		y = 16
		completion_reward = {
			country_event = {
				id = crysom.23 days = 1
			}
		}
	}
	focus = {
		id = CRY_nlrconquest
		icon = GFX_goal_som_nlr
		cost = 10
		will_lead_to_war_with = NLR
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_nlralliance
		}
		bypass = {
			has_war_with = NLR
		}
		available = {
			country_exists = NLR
			has_government = fascism
		}
		x = 8
		y = 17
		completion_reward = {
			country_event = {
				id = crysom.29 days = 1
			}
		}
	}
	focus = {
		id = CRY_stgconquest
		icon = GFX_goal_som_stalliongrad
		will_lead_to_war_with = STG
		cost = 8
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_stgcompromise
		}
		available = {
			has_government = fascism
		}
		x = 8
		y = 18
		completion_reward = {
			country_event = {
				id = crysom.30 days = 1
			}
		}
	}
	focus = {
		id = CRY_nlralliance
		icon = GFX_goal_som_nightmaremoon
		cost = 5
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_nlrconquest
		}
		available = {
			country_exists = NLR
			has_country_leader = { ruling_only = yes name = "King Sombra" }
		}
		x = 2
		y = 17
		completion_reward = {
			country_event = {
				id = crysom.31 days = 1
			}
		}
	}
	focus = {
		id = CRY_stgcompromise
		icon = GFX_goal_som_sinister
		cost = 5
		prerequisite = {
			focus = CRY_conquest
		}
		available = {
			STG = {
				has_country_flag = sinister_elected
			}
			has_government = fascism
		}

		mutually_exclusive = {
			focus = CRY_stgconquest
		}
		x = 0
		y = 18
		completion_reward = {
			country_event = {
				id = crysom.33 days = 1
			}
		}
	}
	focus = {
		id = CRY_grayponepact
		icon = GFX_goal_gray_pact
		cost = 7
		prerequisite = {
			focus = CRY_chgalliance
			focus = CRY_nlralliance
			focus = CRY_stgcompromise
		}
		x = 4
		y = 20
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
		}
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = "Gray_Pact"
			country_event = {
				id = crysom.28 days = 1
			}
			add_political_power = 50
		}
	}
	focus = {
		id = CRY_fiendship
		icon = GFX_goal_fiendship
		cost = 10
		prerequisite = {
			focus = CRY_grayponepact
		}
		x = 4
		y = 21
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
		}
		completion_reward = {
			country_event = {
				id = crysom.22 days = 1
			}
		}
	}
	focus = {
		id = CRY_royal_marriage_CNH
		icon = GFX_goal_som_marry_chrysalis
		cost = 10
		mutually_exclusive = {
			focus = CRY_royal_marriage_NLR
		}
		prerequisite = {
			focus = CRY_chgalliance
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			CHN = { has_country_leader = { ruling_only = yes name = "Queen Chrysalis" } }
		}
		x = 3
		y = 19
		completion_reward = {
			country_event = {
				id = crysom.37 days = 1
			}
		}
	}
	focus = {
		id = CRY_royal_marriage_NLR
		icon = GFX_goal_cry_som_marry_luna
		cost = 10
		mutually_exclusive = {
			focus = CRY_royal_marriage_CNH
		}
		prerequisite = {
			focus = CRY_nlralliance
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NLR = { has_country_leader = { ruling_only = yes name = "Nightmare Moon" } }
		}
		x = 1
		y = 19
		completion_reward = {
			country_event = {
				id = crysom.35 days = 1
			}
		}
	}
	focus = {
		id = CRY_claimoldterritories
		icon = GFX_goal_cry_som_flag
		cost = 10
		prerequisite = {
			focus = CRY_conquest
		}
		available = {
			has_government = fascism
		}
		x = 6
		y = 19
		completion_reward = {
			add_political_power = 40
			country_event = {
				id = crysom.21 days = 1
			}
		}
	}
	#	focus = {
		#		id = CRY_olealliance
		#		icon = GFX_goal_unknown
		#		cost = 10
		#		prerequisite = {
			#			focus = CRY_conquest
			#		}
		#		x = 6
		#		y = 19
		#	}
	focus = {
		id = CRY_communistideas
		icon = GFX_goal_crystal_commies
		cost = 10
		prerequisite = {
			focus = CRY_neworder
		}
		available = {
			NOT = { has_government = fascism }
			NOT = { has_country_flag = CRY_solar_governorship }
			NOT = { has_global_flag = sombra_returned }
			NOT = { has_completed_focus = CRY_umbruminitial }
		}
		bypass = {
			has_government = communism
		}
		mutually_exclusive = {
			focus = CRY_olddignity
		}
		x = 18
		y = 7
		completion_reward = {
			country_event = {
				id = crycom.1 days = 2
			}
			add_popularity = { ideology = communism popularity = 0.08}
		}
	}
	focus = {
		id = CRY_comrevolution
		icon = GFX_goal_cry_democratic
		cost = 10
		prerequisite = {
			focus = CRY_communistideas
		}
		available = {
			NOT = { has_government = fascism }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		bypass = {
			has_government = communism
		}
		x = 18
		y = 11
		completion_reward = {
			country_event = {
				id = crycom.2 days = 1
			}
		}
	}
	focus = {
		id = CRY_stgindustry
		icon = GFX_goal_cry_com_industry
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		x = 21
		y = 14
		completion_reward = {
			add_ideas = trade_relations_with_stalliongrad
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_destroy_sombra_soup
		icon = GFX_goal_cry_sombra_threat_destroyed
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		x = 19
		y = 14
		bypass = {
			NOT = {
				has_idea = sombra_threat
			}
		}
		completion_reward = {
			country_event = {
				id = crycom.8 days = 20
			}
		}
	}
	focus = {
		id = CRY_collectivisation
		icon = GFX_goal_cry_com_agriculture
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		available = {
			has_government = communism
		}
		x = 23
		y = 14
		completion_reward = {
			add_timed_idea = { idea = collectivization_effort3 days = 800 }
		}
	}
	focus = {
		id = CRY_welfare
		icon = GFX_goal_cry_welfare
		cost = 10
		prerequisite = {
			focus = CRY_collectivisation
		}
		available = {
			has_government = communism
		}
		x = 23
		y = 15
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ponies_act
		}
	}
	focus = {
		id = CRY_pyatiletka
		icon = GFX_goal_cry_five_year_plan
		cost = 10
		prerequisite = {
			focus = CRY_stgindustry
		}
		available = {
			has_government = communism
		}
		x = 21
		y = 15
		completion_reward = {
			add_timed_idea = { idea = CRY_five_year_plan days = 1800 }
		}
	}
	focus = {
		id = CRY_socialist_union
		icon = GFX_goal_cry_socialist_union
		cost = 10
		prerequisite = {
			focus = CRY_pyatiletka
		}
		prerequisite = {
			focus = CRY_welfare
		}
		prerequisite = {
			focus = CRY_proletary
			focus = CRY_synchrophasetron
		}
		available = {
			has_government = communism
		}
		bypass = {
			has_government = communism
			is_in_faction_with = STG
			STG = { has_government = communism }
		}
		x = 24
		y = 17
		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = "Socialist_Union"
		}
	}
	focus = {
		id = CRY_union
		icon = GFX_goal_cry_com_union
		cost = 10
		prerequisite = {
			focus = CRY_socialist_union
		}
		x = 24
		y = 19
		available = {
			has_government = communism
			EQS = {
				has_government = communism
			}
			hidden_trigger =  {
				any_country = {
					original_tag = EQS
					has_government = communism
				}
			}
		}
		completion_reward = {
			country_event = crycom.14
		}

	}
}
=======
focus_tree = {
	id = crystalempire
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = CRY
		}
		modifier = {
			factor = 0
			has_country_flag = CRY_solar_governorship
		}
	}
	default = no
	continuous_focus_position = { x = 1 y = 1600 }
	focus = {
		id = CRY_wintersun #Winter Sun Celebration (PP buff)
		icon = GFX_goal_winter_sun
		cost = 7
		x = 1
		y = 0
		ai_will_do = {
			factor = 5
		}
		bypass = {
			date > 1007.11.3
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_wintersun"#Auto-logging
			country_event = { id = cryscr.1 days = 1 }
		}
	}
	focus = { #Flurry Heart kek (NU buff)
		id = CRY_crystallinganniversary
		icon = GFX_goal_crystalling
		cost = 7
		x = 7
		y = 0
		ai_will_do = {
			factor = 5
		}
		available = {
			has_government = democratic
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_crystallinganniversary"#Auto-logging
			country_event = { id = cryscr.2 days = 2 }
			effect_tooltip = {
				add_political_power = 10
				add_popularity = { ideology = fascism popularity = 0.03 }
				add_popularity = { ideology = communism popularity = 0.05 }
				swap_ideas = { remove_idea = royal_family add_idea = royal_family2 }
			}
		}
	}
	focus = { #Equestria Games (PP Buff)
		id = CRY_equestriagames
		icon = GFX_goal_equestria_games
		cost = 5
		x = 13
		y = 0
		ai_will_do = {
			factor = 10
		}
		bypass = {
			has_global_flag  = friendship_games_flag
		}
		available = {
			has_government = democratic
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_equestriagames"#Auto-logging
			country_event = {
				id = cryscr.4 days = 1
			}
		}
	}

	shared_focus = CRY_military

	focus = { #Grand crystal festival (PP Buff, NU buff, something else buffed)
		id = CRY_grandfestival
		icon = GFX_goal_cry_festival
		cost = 10
		x = 4
		y = 1
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				has_government = fascism
			}
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_grandfestival"#Auto-logging
			country_event = { id = cryscr.10 days = 1 }
			add_timed_idea = { idea = grand_festival days = 30}
		}
	}
	focus = { #Crystal Faire
		id = CRY_crystalfaire
		icon = GFX_goal_crystal_heart_cry
		cost = 7
		x = 9
		y = 1
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				has_government = fascism
			}
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_crystalfaire"#Auto-logging
			country_event = {
				id = cryscr.5 days  = 1
			}
		}

	}
	focus = {
		id = CRY_umbruminitial ## Underground meeting
		icon = GFX_goal_tea_cry
		cost = 3
		x = 12
		y = 2
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = invitation_to_join_the_club
			NOT = { has_country_flag = CRY_solar_governorship }
			NOT = { has_completed_focus = CRY_communistideas }
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_umbruminitial"#Auto-logging
			country_event = { id = cryscr.15 days = 1 }
		}
	}
	focus = { #
		id = CRY_librarywork
		icon = GFX_goal_cry_book
		cost = 5
		x = 12
		y = 3
		ai_will_do = {
			factor = 20
		}
		prerequisite = {
			focus = CRY_umbruminitial
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		available = {
			has_country_flag = joined_the_club
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus { has_completed_focus"#Auto-logging
			country_event = { id = cryscr.23 days = 1 }
		}

	}
	focus = { #
		id = CRY_search_for_the_artifact
		icon = GFX_goal_dark_heart
		cost = 6
		prerequisite = {
			focus = CRY_librarywork
		}
		ai_will_do = {
			factor = 20
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		available = {
			has_country_flag = learned_about_the_crystals
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 4
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_librarywork"#Auto-logging
			country_event = {
				id = cryscr.30 days = 1
			}
			set_country_flag = dark_heart_in_progress
		}

	}
	focus = { #
		id = CRY_active_crystals
		icon = GFX_goal_crystals_cry
		cost = 10
		x = 13
		y = 4
		prerequisite = {
			focus = CRY_librarywork
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_flag = learned_about_the_crystals
			NOT = { has_country_flag = dark_heart_in_progress }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		bypass = {
			has_country_flag = dark_heart_is_ready
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_search_for_the_artifact"#Auto-logging
			country_event = {
				id = cryscr.48 days = 5
			}
		}
	}

	focus = {
		id = CRY_fame
		icon = GFX_goal_crystal_empire_symbol_cry
		cost = 10
		prerequisite = {
			focus = CRY_grandfestival
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = invitation_to_join_the_club }
		}
		prerequisite = {
			focus = CRY_crystalfaire
		}
		x = 4
		y = 3
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_active_crystals"#Auto-logging
			add_popularity = { ideology = democratic popularity = 0.08 }
			add_popularity = { ideology = neutrality popularity = 0.08 }
			add_popularity = { ideology = communism popularity = 0.03 }
		}

	}
	focus = {
		id = CRY_oldorder
		icon = GFX_goal_crystal_empire_symbol_flowers
		cost = 10
		prerequisite = {
			focus = CRY_fame
		}
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = CRY_neworder
		}
		available = {
			NOT = { has_global_flag = sombra_returned }
		}
		bypass = { has_country_flag = CRY_solar_governorship }
		x = 2
		y = 5
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_fame"#Auto-logging
			add_popularity = { ideology = democratic popularity = 0.05 }
			add_political_power = 50
		}
	}
	focus = {
		id = CRY_neworder
		icon = GFX_goal_crystal_empire_symbol_cry
		cost = 10
		prerequisite = {
			focus = CRY_fame
		}
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = CRY_oldorder
		}
		available = {
			NOT = { has_global_flag = sombra_returned }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 6
		y = 5
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_oldorder"#Auto-logging
			add_popularity = { ideology = democratic popularity = -0.03 }
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_popularity = { ideology = neutrality popularity = 0.08 }
			add_popularity = { ideology = communism popularity = 0.08 }
		}
	}
	#####################################################################
	########### SOMBRA FINALS / TAKES POWER #############################
	#####################################################################
	focus = {
		id = CRY_crystalheartstolen
		icon = GFX_goal_sombra_return
		cost = 6
		prerequisite = {
			focus = CRY_active_crystals
			focus = CRY_search_for_the_artifact
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = dark_heart_is_ready
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 12
		y = 10
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_neworder"#Auto-logging
			custom_effect_tooltip = sombra_return_tt
		}
	}
	focus = {
		id = CRY_oldking
		icon = GFX_goal_crystal_palace
		cost = 2
		prerequisite = {
			focus = CRY_crystalheartstolen
		}
		ai_will_do = {
			factor = 10
		}
		x = 12
		y = 11
		available = {
			has_global_flag = sombra_returned
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_crystalheartstolen"#Auto-logging
			add_political_power = 150
			add_country_leader_trait = sombra_leader
		}
	}
	focus = {
		id = CRY_militarisation
		icon = GFX_goal_sombra_defense
		cost = 3
		prerequisite = {
			focus = CRY_oldking
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 14
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_oldking"#Auto-logging
			add_timed_idea = { idea = sombra_military_effort days = 400 }
			country_event = { id = crysom.14 days = 1 }
		}
	}
	focus = {
		id = CRY_umbrumarmy
		icon = GFX_goal_sombarmy
		cost = 5
		prerequisite = {
			focus = CRY_militarisation
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 100
				OR = {
					has_war_with = EQS
					has_civil_war = yes
				}
			}
		}
		x = 16
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_militarisation"#Auto-logging
			add_timed_idea = { idea = umbarmiya days = 230 }
			country_event = { id = crysom.15 days = 1 }
			hidden_effect = {
				load_oob = "CRY_SOM_devoted_army"
			}
		}
	}
	focus = {
		id = CRY_conquest
		icon = GFX_goal_som_equestria
		cost = 1
		prerequisite = {
			focus = CRY_militarisation
		}
		will_lead_to_war_with = EQS
		ai_will_do = {
			factor = 5
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		bypass = {
			has_war_with = EQS
		}
		available = { NOT = { has_civil_war = yes } }
		x = 6
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_umbrumarmy"#Auto-logging
			country_event = {
				id = crysom.19 days = 1
			}
		}
	}
	focus = {
		id = CRY_somammocomplex
		icon = GFX_goal_sombra_factory
		cost = 10
		prerequisite = {
			focus = CRY_umbrumarmy
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 10
		}
		x = 16
		y = 16
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_conquest"#Auto-logging
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = sombra_arms
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_somarmory
		icon = GFX_goal_somtanks
		cost = 10
		prerequisite = {
			focus = CRY_somammocomplex
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 10
		}
		x = 16
		y = 17
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somammocomplex"#Auto-logging
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 2
				category = armor
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_somequipment
		icon = GFX_goal_CRY_somequipment
		cost = 10
		prerequisite = {
			focus = CRY_somarmory
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 16
		y = 18
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somarmory"#Auto-logging
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.45
				uses = 2
				category = infantry_weapons
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_somtories
		icon = GFX_goal_sombra_factory
		cost = 10
		prerequisite = {
			focus = CRY_somindustry
		}
		ai_will_do = {
			factor = 10
		}
		x = 13
		y = 16
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somequipment"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_consumergoods
		icon = GFX_goal_cry_factory
		cost = 3
		prerequisite = {
			focus = CRY_industry_f
		}
		ai_will_do = {
			factor = 20
		}
		allow_branch = {
			NOT = { has_focus_tree = crystal_empire_solar_focus }
		}
		x = 31
		y = 4
		available = {
			has_war = yes
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somtories"#Auto-logging
			add_ideas = CRY_austerity_measures
		}
	}
	focus = {
		id = CRY_medicine_focus
		icon = GFX_goal_cry_medicine
		cost = 13
		prerequisite = {
			focus = CRY_rndinstitute
			focus = CRY_industry_f
		}
		available = {
			has_government = democratic
		}
		allow_branch = {
			NOT = { has_focus_tree = crystal_empire_solar_focus }
		}
		x = 31
		y = 6
		completion_reward = {
			add_tech_bonus = {
				name = hospital_tech_bonus
				bonus = 0.4
				uses = 2
				category = hospital_tech
			}
			add_ideas = CRY_medicine
		}
	}
	focus = {
		id = CRY_somlogistics
		icon = GFX_goal_som_railway
		cost = 7
		prerequisite = {
			focus = CRY_somindustry
		}
		ai_will_do = {
			factor = 6
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 16
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_consumergoods"#Auto-logging
			152 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			151 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			53 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			345 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			344 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			144 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			147 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			146 = {	add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_sominstitute
		icon = GFX_goal_institute_CRY
		cost = 6
		prerequisite = {
			focus = CRY_somindustry
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 20
		}
		x = 10
		y = 17
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somlogistics"#Auto-logging
			add_research_slot = 1
		}
	}
	focus = {
		id = CRY_somdarkcrystals
		icon = GFX_goal_crystals_cry
		cost = 15
		prerequisite = {
			focus = CRY_sominstitute
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = fascism
		}
		x = 12
		y = 18
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_sominstitute"#Auto-logging
			add_timed_idea = {
				idea = crystal_buff days = 450
			}
		}
	}
	focus = {
		id = CRY_somdarkmagic
		icon = GFX_goal_cry_dark_magic
		cost = 5
		prerequisite = {
			focus = CRY_sominstitute
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 18
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somdarkcrystals"#Auto-logging
			add_ideas = sombra_dark_magic
		}
	}
	focus = {
		id = CRY_fearwar
		icon = GFX_goal_cry_fearwar
		cost = 8
		prerequisite = {
			focus = CRY_somdarkmagic
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 19
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somdarkmagic"#Auto-logging
			swap_ideas = { add_idea = sombra_dark_magic1 remove_idea = sombra_dark_magic }
		}
	}
	focus = {
		id = CRY_mind_controlling
		icon = GFX_goal_cry_mind_controlling
		cost = 10
		prerequisite = {
			focus = CRY_evilgenius
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 21
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_fearwar"#Auto-logging
			swap_ideas = { add_idea = sombra_dark_magic2 remove_idea = sombra_dark_magic1 }
		}
	}
	focus = {
		id = CRY_darkar
		icon = GFX_goal_darkar
		cost = 10
		prerequisite = {
			focus = CRY_somdarkcrystals
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 12
		y = 19
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_mind_controlling"#Auto-logging
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = darkar_design
		}

	}
	focus = {
		id = CRY_evilgenius
		icon = GFX_goal_cry_evil_genius
		cost = 10
		prerequisite = {
			focus = CRY_darkar
			focus = CRY_fearwar
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 11
		y = 20
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_darkar"#Auto-logging
			add_ideas = evil_genius
		}
	}
	focus = {
		id = CRY_evilgenius2
		icon = GFX_goal_sombra_magic
		cost = 12
		prerequisite = {
			focus = CRY_evilgenius
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 13
		y = 21
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_evilgenius"#Auto-logging
			swap_ideas = { remove_idea = evil_genius add_idea = evil_genius2 }

		}
	}
	focus = {
		id = CRY_somdustrial_concerns
		icon = GFX_goal_som_concerns
		cost = 10
		prerequisite = {
			focus = CRY_somindustry
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 14
		y = 17
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_evilgenius2"#Auto-logging
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = citrum
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = nyx
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = ventus
		}
	}
	focus = {
		id = CRY_nuke
		icon = GFX_goal_som_destroyer_of_worlds
		cost = 10
		prerequisite = {
			focus = CRY_mind_controlling
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		ai_will_do = {
			factor = 10
		}
		x = 11
		y = 22
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somdustrial_concerns"#Auto-logging
			add_tech_bonus = {
				name = secret_bonus
				bonus = 0.5
				uses = 2
				category = nuclear
			}
		}
	}
	focus = {
		id = CRY_miamorefate
		icon = GFX_goal_miamorefate
		cost = 2
		prerequisite = {
			focus = CRY_oldking
			focus = CRY_comrevolution
		}
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = larger_civil_war
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 14
		y = 13
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_nuke"#Auto-logging
			country_event = {
				id = crysom.42 days = 1
			}
		}
	}
	focus = {
		id = CRY_somtechconcerns
		icon = GFX_goal_som_technology
		cost = 10
		prerequisite = {
			focus = CRY_umbrumarmy
		}
		ai_will_do = {
			factor = 10
		}
		x = 18
		y = 16
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_miamorefate"#Auto-logging
			add_tech_bonus = {
				name = support_bonus
				bonus = 0.5
				uses = 2
				category = engineers_tech
				category = recon_tech
				category = military_police_tech
			}
		}
	}
	focus = {
		id = CRY_somviation
		icon = GFX_goal_somaviation
		cost = 10
		prerequisite = {
			focus = CRY_somarmory
		}
		ai_will_do = {
			factor = 5
		}
		x = 18
		y = 18
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somtechconcerns"#Auto-logging
			add_tech_bonus = {
				name = aviation_bonus
				bonus = 0.5
				uses = 2
				technology = strategic_bomber1
				technology = strategic_bomber2
				technology = strategic_bomber3
				technology = fighter1
				technology = fighter2
				category = tactical_bomber
			}
		}
	}

	shared_focus = CRY_strength

	focus = {
		id = CRY_stgadvisory
		icon = GFX_goal_cry_stalliongrad
		cost = 10
		prerequisite = {
			focus = CRY_comrevolution
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = communism
		}
		bypass = {
			STG = {
				OR = {
					has_country_flag = darkwing_elected
					NOT = { has_government = communism }
					exists = no
				}
			}
		}
		x = 21
		y = 12
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_steel_factories_in_crystal_city"#Auto-logging
			country_event = {
				id = crycom.4 days = 1
			}
		}
	}
	focus = {
		id = CRY_ministry
		icon = GFX_goal_cry_com_ministry
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = communism
		}
		x = 25
		y = 14
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_stgadvisory"#Auto-logging
			add_ideas = ministry_of_defense
		}
	}
	focus = {
		id = CRY_proletary
		icon = GFX_goal_cry_star
		cost = 10
		prerequisite = {
			focus = CRY_ministry
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_government = communism
		}
		x = 25
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_ministry"#Auto-logging
			swap_ideas = {
				remove_idea = CRY_inexperienced_officers add_idea = CRY_military_school
			}
			hidden_effect = {
				remove_ideas = communist_influence
			}
			add_ideas = CRY_ponies_army
		}
	}
	focus = {
		id = CRY_risingstorm
		icon = GFX_goal_cry_rising_storm
		cost = 10
		prerequisite = {
			focus = CRY_military
		}
		ai_will_do = {
			factor = 15
		}
		available = {
			has_war_with = CHN
			has_government = democratic
		}
		allow_branch = {
			NOT = { has_focus_tree = crystal_empire_solar_focus }
		}
		x = 27
		y = 2
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_proletary"#Auto-logging
			custom_effect_tooltip = rising_storm_troops_will_appear
			hidden_effect = {
				load_oob = "CRY_rising_storm"
			}
			add_war_support = 0.1
		}
	}
	focus = {
		id = CRY_researchagreement
		icon = GFX_goal_cry_com_atom
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		ai_will_do = {
			factor = 15
		}
		x = 27
		y = 14
		available = {
			has_country_flag = STG_agreed_cooperation
			has_government = communism
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_risingstorm"#Auto-logging
			country_event = {
				id = crycom.7 days = 1
			}
			STG = {
				country_event = {
					id = stalliongrad.101 days = 1 }
			}
		}
	}
	focus = {
		id = CRY_synchrophasetron
		icon = GFX_goal_cry_com_sync
		cost = 10
		available = {
			OR = {
				has_completed_focus = CRY_researchagreement
				AND = {
					has_completed_focus = CRY_collectivisation
					has_completed_focus = CRY_welfare
					has_completed_focus = CRY_pyatiletka
					has_completed_focus = CRY_stgindustry
				}
			}
		}
		ai_will_do = {
			factor = 20
		}
		x = 27
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_researchagreement"#Auto-logging
			add_ideas = CRY_synchrophasetron_bonus
		}
	}
	focus = {
		id = CRY_magic_of_proletariat
		icon = GFX_goal_cry_com_magic
		cost = 10
		prerequisite = {
			focus = CRY_synchrophasetron
		}
		available = {
			has_government = communism
		}
		ai_will_do = {
			factor = 20
		}
		x = 27
		y = 16
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_synchrophasetron"#Auto-logging
			add_ideas = magic_of_proletariat
		}
	}
	focus = {
		id = CRY_crystalscom
		icon = GFX_goal_cry_com_crystals
		cost = 10
		prerequisite = {
			focus = CRY_rndinstitute
		}
		prerequisite = {
			focus = CRY_researchagreement
		}
		available = {
			has_government = communism
		}
		allow_branch = {
			NOT = { has_focus_tree = crystal_empire_solar_focus }
		}
		x = 29
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_machinisation"#Auto-logging
			add_ideas = CRY_communist_crystals
		}
	}
	focus = {
		id = CRY_altersource
		icon = GFX_goal_altersource
		cost = 10
		prerequisite = {
			focus = CRY_crystalscom
		}
		prerequisite = {
			focus = CRY_synchrophasetron
		}
		x = 29
		y = 16
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_crystalscom"#Auto-logging
			swap_ideas = { add_idea = CRY_synchrophasetron_bonus1 remove_idea = CRY_synchrophasetron_bonus }
		}
	}
	focus = {
		id = CRY_miamore
		icon = GFX_goal_miamore
		cost = 10
		prerequisite = {
			focus = CRY_oldorder
		}
		bypass = {
			has_country_flag = CRY_solar_governorship
		}
		x = 2
		y = 7
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_rocketengineering"#Auto-logging
			add_political_power = 40
			add_popularity = { ideology = democratic popularity = 0.1 }
			country_event = {
				id = cryscr.9 days = 1
			}
			effect_tooltip = {
				if = {
					limit = { has_idea = royal_family2 }
					swap_ideas = { remove_idea = royal_family2 add_idea = royal_family3 }
				}
				else = {
					swap_ideas = { remove_idea = royal_family add_idea = royal_family2 }
				}
			}
		}
	}
	focus = {
		id = CRY_subordination
		icon = GFX_goal_cry_subordination
		cost = 10
		prerequisite = {
			focus = CRY_miamore
		}
		mutually_exclusive = {
			focus = CRY_independence_referendum
		}
		available = {
			has_government = democratic
			overlord = { has_government = democratic original_tag = EQS }
			has_civil_war = no
		}
		x = 0
		y = 11
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_miamore"#Auto-logging
			country_event = {
				id = crystalemp.21 days = 1
			}
		}
	}
	focus = {
		id = CRY_independence_referendum
		icon = GFX_goal_cry_referendum
		cost = 10
		mutually_exclusive = { focus = CRY_subordination }
		prerequisite = {
			focus = CRY_miamore
		}
		available = {
			has_government = democratic
			overlord = { has_government = democratic original_tag = EQS }
			has_civil_war = no
		}
		x = 4
		y = 11
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_subordination"#Auto-logging
			country_event = {
				id = crystalemp.20 days = 1
			}
		}
	}
	focus = {
		id = CRY_eqsadvisors
		icon = GFX_goal_cry_eqs_hat
		cost = 10
		prerequisite = {
			focus = CRY_eqsforces
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 3
		y = 9
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_independence_referendum"#Auto-logging
			add_ideas = equestrian_advisors
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.45
				uses = 2
				category = land_doctrine
			}
		}
	}
	focus = {
		id = CRY_eqsforces
		icon = GFX_goal_cry_celestia
		cost = 10
		prerequisite = {
			focus = CRY_miamore
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 2
		y = 8
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_eqsadvisors"#Auto-logging
			custom_effect_tooltip = harmony_advisors_cry
			hidden_effect = {
				load_oob = "CRY_equestrian_help"
			}
		}
	}
	focus = {
		id = CRY_eqsengineers
		icon = GFX_goal_cry_engineering
		cost = 10
		prerequisite = {
			focus = CRY_eqsforces
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 1
		y = 9
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_eqsforces"#Auto-logging
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.20
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.20
				uses = 1
				category = electronics
			}
			swap_ideas = {
				remove_idea = equestrian_overlord add_idea = equestrian_overlord2
			}
		}
	}
	focus = {
		id = CRY_eqsfactories
		icon = GFX_goal_cry_factory_cel
		cost = 10
		prerequisite = {
			focus = CRY_eqsengineers
			focus = CRY_eqsadvisors
		}
		available = {
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}
		}
		x = 2
		y = 10
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_eqsengineers"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_somindustry
		icon = GFX_goal_sombra_factory
		cost = 6
		prerequisite = {
			focus = CRY_militarisation
		}
		available = {
			has_government = fascism
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		x = 10
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_medicine_focus"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_chgalliance
		icon = GFX_goal_som_chrysalis
		cost = 3
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_chgconquest
		}
		x = 4
		y = 16
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_somindustry"#Auto-logging
			country_event = {
				id = crysom.25 days = 1
			}
		}
	}
	focus = {
		id = CRY_chgconquest
		icon = GFX_goal_som_changeling
		cost = 9
		will_lead_to_war_with = CHN
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_chgalliance
		}
		bypass = {
			has_war_with = CHN
		}
		available = { country_exists = CHN }
		x = 8
		y = 16
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_chgalliance"#Auto-logging
			country_event = {
				id = crysom.23 days = 1
			}
		}
	}
	focus = {
		id = CRY_nlrconquest
		icon = GFX_goal_som_nlr
		cost = 10
		will_lead_to_war_with = NLR
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_nlralliance
		}
		bypass = {
			has_war_with = NLR
		}
		available = {
			country_exists = NLR
			has_government = fascism
		}
		x = 8
		y = 17
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_chgconquest"#Auto-logging
			country_event = {
				id = crysom.29 days = 1
			}
		}
	}
	focus = {
		id = CRY_stgconquest
		icon = GFX_goal_som_stalliongrad
		will_lead_to_war_with = STG
		cost = 8
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_stgcompromise
		}
		available = {
			has_government = fascism
		}
		x = 8
		y = 18
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_nlrconquest"#Auto-logging
			country_event = {
				id = crysom.30 days = 1
			}
		}
	}
	focus = {
		id = CRY_nlralliance
		icon = GFX_goal_som_nightmaremoon
		cost = 5
		prerequisite = {
			focus = CRY_conquest
		}
		mutually_exclusive = {
			focus = CRY_nlrconquest
		}
		available = {
			country_exists = NLR
			has_country_leader = { ruling_only = yes name = "King Sombra" }
		}
		x = 2
		y = 17
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_stgconquest"#Auto-logging
			country_event = {
				id = crysom.31 days = 1
			}
		}
	}
	focus = {
		id = CRY_stgcompromise
		icon = GFX_goal_som_sinister
		cost = 5
		prerequisite = {
			focus = CRY_conquest
		}
		available = {
			STG = {
				has_country_flag = sinister_elected
			}
			has_government = fascism
		}

		mutually_exclusive = {
			focus = CRY_stgconquest
		}
		x = 0
		y = 18
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_nlralliance"#Auto-logging
			country_event = {
				id = crysom.33 days = 1
			}
		}
	}
	focus = {
		id = CRY_grayponepact
		icon = GFX_goal_gray_pact
		cost = 7
		prerequisite = {
			focus = CRY_chgalliance
			focus = CRY_nlralliance
			focus = CRY_stgcompromise
		}
		x = 4
		y = 20
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_stgcompromise"#Auto-logging
			set_rule = { can_create_factions = yes }
			create_faction = "Gray_Pact"
			country_event = {
				id = crysom.28 days = 1
			}
			add_political_power = 50
		}
	}
	focus = {
		id = CRY_fiendship
		icon = GFX_goal_fiendship
		cost = 10
		prerequisite = {
			focus = CRY_grayponepact
		}
		x = 4
		y = 21
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_grayponepact"#Auto-logging
			country_event = {
				id = crysom.22 days = 1
			}
		}
	}
	focus = {
		id = CRY_royal_marriage_CNH
		icon = GFX_goal_som_marry_chrysalis
		cost = 10
		mutually_exclusive = {
			focus = CRY_royal_marriage_NLR
		}
		prerequisite = {
			focus = CRY_chgalliance
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			CHN = { has_country_leader = { ruling_only = yes name = "Queen Chrysalis" } }
		}
		x = 3
		y = 19
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_fiendship"#Auto-logging
			country_event = {
				id = crysom.37 days = 1
			}
		}
	}
	focus = {
		id = CRY_royal_marriage_NLR
		icon = GFX_goal_cry_som_marry_luna
		cost = 10
		mutually_exclusive = {
			focus = CRY_royal_marriage_CNH
		}
		prerequisite = {
			focus = CRY_nlralliance
		}
		available = {
			has_country_leader = { ruling_only = yes name = "King Sombra" }
			NLR = { has_country_leader = { ruling_only = yes name = "Nightmare Moon" } }
		}
		x = 1
		y = 19
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_royal_marriage_CNH"#Auto-logging
			country_event = {
				id = crysom.35 days = 1
			}
		}
	}
	focus = {
		id = CRY_claimoldterritories
		icon = GFX_goal_cry_som_flag
		cost = 10
		prerequisite = {
			focus = CRY_conquest
		}
		available = {
			has_government = fascism
		}
		x = 6
		y = 19
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_royal_marriage_NLR"#Auto-logging
			add_political_power = 40
			country_event = {
				id = crysom.21 days = 1
			}
		}
	}
	#	focus = {
		#		id = CRY_olealliance
		#		icon = GFX_goal_unknown
		#		cost = 10
		#		prerequisite = {
			#			focus = CRY_conquest
			#		}
		#		x = 6
		#		y = 19
		#	}
	focus = {
		id = CRY_communistideas
		icon = GFX_goal_crystal_commies
		cost = 10
		prerequisite = {
			focus = CRY_neworder
		}
		available = {
			NOT = { has_government = fascism }
			NOT = { has_country_flag = CRY_solar_governorship }
			NOT = { has_global_flag = sombra_returned }
			NOT = { has_completed_focus = CRY_umbruminitial }
		}
		bypass = {
			has_government = communism
		}
		mutually_exclusive = {
			#focus = CRY_olddignity
		}
		x = 18
		y = 7
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_claimoldterritories"#Auto-logging
			country_event = {
				id = crycom.1 days = 2
			}
			add_popularity = { ideology = communism popularity = 0.08}
		}
	}
	focus = {
		id = CRY_comrevolution
		icon = GFX_goal_cry_democratic
		cost = 10
		prerequisite = {
			focus = CRY_communistideas
		}
		available = {
			NOT = { has_government = fascism }
			NOT = { has_country_flag = CRY_solar_governorship }
		}
		bypass = {
			has_government = communism
		}
		x = 18
		y = 11
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_communistideas"#Auto-logging
			country_event = {
				id = crycom.2 days = 1
			}
		}
	}
	focus = {
		id = CRY_stgindustry
		icon = GFX_goal_cry_com_industry
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		x = 21
		y = 14
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_comrevolution"#Auto-logging
			add_ideas = trade_relations_with_stalliongrad
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = CRY_destroy_sombra_soup
		icon = GFX_goal_cry_sombra_threat_destroyed
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		x = 19
		y = 14
		bypass = {
			NOT = {
				has_idea = sombra_threat
			}
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_communistideas"#Auto-logging
			country_event = {
				id = crycom.8 days = 20
			}
		}
	}
	focus = {
		id = CRY_collectivisation
		icon = GFX_goal_cry_com_agriculture
		cost = 10
		prerequisite = {
			focus = CRY_stgadvisory
		}
		available = {
			has_government = communism
		}
		x = 23
		y = 14
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_stgindustry"#Auto-logging
			add_timed_idea = { idea = collectivization_effort3 days = 800 }
		}
	}
	focus = {
		id = CRY_welfare
		icon = GFX_goal_cry_welfare
		cost = 10
		prerequisite = {
			focus = CRY_collectivisation
		}
		available = {
			has_government = communism
		}
		x = 23
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_destroy_sombra_soup"#Auto-logging
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ponies_act
		}
	}
	focus = {
		id = CRY_pyatiletka
		icon = GFX_goal_cry_five_year_plan
		cost = 10
		prerequisite = {
			focus = CRY_stgindustry
		}
		available = {
			has_government = communism
		}
		x = 21
		y = 15
		completion_reward = {
			log = "[Root.GetName]: Focus sombra_threat"#Auto-logging
			add_timed_idea = { idea = CRY_five_year_plan days = 1800 }
		}
	}
	focus = {
		id = CRY_socialist_union
		icon = GFX_goal_cry_socialist_union
		cost = 10
		prerequisite = {
			focus = CRY_pyatiletka
		}
		prerequisite = {
			focus = CRY_welfare
		}
		prerequisite = {
			focus = CRY_proletary
			focus = CRY_synchrophasetron
		}
		available = {
			has_government = communism
		}
		bypass = {
			has_government = communism
			is_in_faction_with = STG
			STG = { has_government = communism }
		}
		x = 24
		y = 17
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_collectivisation"#Auto-logging
			set_rule = { can_create_factions = yes }
			create_faction = "Socialist_Union"
		}
	}
	focus = {
		id = CRY_union
		icon = GFX_goal_cry_com_union
		cost = 10
		prerequisite = {
			focus = CRY_socialist_union
		}
		x = 24
		y = 19
		available = {
			has_government = communism
			EQS = {
				has_government = communism
			}
			hidden_trigger =  {
				any_country = {
					original_tag = EQS
					has_government = communism
				}
			}
		}
		completion_reward = {
			log = "[Root.GetName]: Focus CRY_welfare"#Auto-logging
			country_event = crycom.14
		}

	}
}
>>>>>>> master
