add_namespace = changelings

country_event = {   ######### State_Of_The_Swarm ######
	id = changelings.0
	title = changelings.0.t
	desc = changelings.0.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.0.a
	}
}

country_event = {   ######### Pressure Olenia #########
	id = changelings.1
	title = changelings.1.t
	desc = changelings.1.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.1.a

   		add_state_claim = 300

 		add_state_claim = 292 

 		add_state_claim = 301

 		add_state_claim = 302

 		add_state_claim = 296
	}
}

country_event = {  ######### Protectorate over Olenia
	id = changelings.2
	title = changelings.2.t
	desc = changelings.2.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.2.a
	}
}

country_event = {  ######### Pressure Olenia OLE RESPONCE
	id = changelings.3
	title = changelings.3.t
	desc = changelings.3.d
	picture = GFX_event_olenia_generic

	is_triggered_only = yes

	option = {      # Accept
		name = changelings.3.a
		CHN = {
			country_event = { days = 1 id=changelings.5 }
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					NOT = { has_government = neutrality }
				}
			}
		}
	}
	option = {      # Deny
		name = changelings.3.b
		add_political_power = 50
		add_war_support = 0.04
		CHN = {
			country_event = { days = 1 id=changelings.4 }
		}
		ai_chance = {
			factor = 80
		}
	}
}

country_event = {  ######### Pressure Olenia Deny
	id = changelings.4
	title = changelings.4.t
	desc = changelings.4.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.4.a
		add_political_power = 200
			every_country = {
				limit = {
					original_tag = OLE
				}
		CHN = { declare_war_on = { target = PREV type = annex_everything } }
		}
	}
}

country_event = {  ######### Pressure Olenia Accept
	id = changelings.5
	title = changelings.5.t
	desc = changelings.5.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.5.a
		every_state = { 
		limit = { 
		is_claimed_by = CHN 
		is_core_of = OLE
		}
		CHN = { set_state_controller = PREV }
		}
	}
}

country_event = {  ######### Protectorate over Olenia OLE RESPONCE
	id = changelings.6
	title = changelings.6.t
	desc = changelings.6.d
	picture = GFX_event_olenia_generic

	is_triggered_only = yes

	option = {
		name = changelings.6.a
		CHN = { country_event = changelings.8 }
	}
	option = {
		name = changelings.6.b
		CHN = { country_event = changelings.7 }
		add_political_power = 100
	}
}

country_event = {  ######### Protectorate over Olenia OLE DENY
	id = changelings.7
	title = changelings.7.t
	desc = changelings.7.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.2.a
			every_country = {
				limit = {
					original_tag = OLE
				}
		CHN = { declare_war_on = { target = PREV type = annex_everything } }
		}
	}
}

country_event = {  ######### Protectorate over Olenia OLE SUBMIT
	id = changelings.8
	title = changelings.8.t
	desc = changelings.8.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.8.a

    puppet = OLE
 
    hidden_effect = {
 
      OLE = {
 
        set_country_flag = OLE_CHN_puppet
 
        set_party_name = { ideology = fascism long_name = OLE_chn_collaborators_long name = OLE_chn_collaborators }
 
      create_country_leader = {
 
        name = "Vidkun Hjortsling"
 
        picture = "Hjortsling.dds"
 
        expire = "1965.1.1"
 
        ideology = rexism
 
        traits = {
 

 
        }
 
      }
 
        drop_cosmetic_tag = yes
 
        set_cosmetic_tag = OLE_CHN
 
      }
 
    }
 
    CHN = { 

    transfer_state = 300

 	transfer_state = 292 

 	transfer_state = 301

 	transfer_state = 302

 	transfer_state = 296

 	}
 
    ai_chance = { factor = 100 }
 
	}
}

country_event = {  ######### Winter Resistance
	id = changelings.9
	title = changelings.9.t
	desc = changelings.9.d
	picture = GFX_event_swarm

	trigger = {	
			has_government = fascism
			original_tag = CHN
			owns_state = 76
	}

	mean_time_to_happen = {
		days = 10
	}

	immediate = { set_country_flag = OlenianResistance }

	fire_only_once = yes

	option = {
		name = changelings.9.a
		add_ideas = CHN_olenian_resistance
	}
}

country_event = {  ######### Winter Resistance Civillian Factories Damaged
	id = changelings.10
	title = changelings.10.t
	desc = changelings.10.d
	picture = GFX_event_swarm

	trigger = {	
		has_country_flag = OlenianResistance
	}

	mean_time_to_happen = {
		days = 60
	}

	option = {
		name = changelings.10.a
		add_war_support = -0.02
		random_owned_controlled_state = {
			prioritize = {
				69
			}
			prioritize = {
				76
			}
			prioritize = {
				213
			}
			prioritize = {
				191
			}
			prioritize = {
				194
			}

			limit = {
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.9
			}
		}
	}
}

country_event = {  ######### Winter Resistance Manpower Lost
	id = changelings.11
	title = changelings.11.t
	desc = changelings.11.d
	picture = GFX_event_swarm

	trigger = {	
		has_country_flag = OlenianResistance
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = changelings.11.a
		add_manpower = -5000
		army_experience = -1
		add_war_support = -0.03
	}
}

country_event = {  ######### Winter Resistance Political Power Lost
	id = changelings.12
	title = changelings.12.t
	desc = changelings.12.d
	picture = GFX_event_swarm

	trigger = {	
		has_country_flag = OlenianResistance
	}

	mean_time_to_happen = {
		days = 40
	}

	option = {
		name = changelings.12.a
		add_political_power = -75
		add_war_support = -0.01
	}
}

country_event = {  ######### Winter Resistance Military Factories Damaged
	id = changelings.13
	title = changelings.13.t
	desc = changelings.13.d
	picture = GFX_event_swarm

	trigger = {	
		has_country_flag = OlenianResistance
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		name = changelings.13.a
		add_war_support = -0.02
		random_owned_controlled_state = {
			prioritize = {
				69
			}
			prioritize = {
				76
			}
			prioritize = {
				213
			}
			prioritize = {
				191
			}
			prioritize = {
				194
			}

			limit = {
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.9
			}
		}
	}
}

country_event = {  ######### Winter Resistance Destroyed
	id = changelings.14
	title = changelings.14.t
	desc = changelings.14.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.14.a
		clr_country_flag = OlenianResistance
	}
}

country_event = {  ######### Offer Peace to Olenia FORCE PEACE
	id = changelings.15
	title = changelings.15.t
	desc = changelings.15.d
	picture = GFX_event_swarm

	fire_only_once = yes

	trigger = {
		original_tag = CHN
		has_war_with = PREV
		controls_state = 76 #Hjortland
		controls_state = 69 #Vaverfront
		controls_state = 213 #Manty Creek
		every_country = {
			limit = {
			original_tag = OLE
		}
		PREV = { has_capitulated = yes }
		NOT = {
			surrender_progress > 0.10
			}
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = { #Take our Claims and install a puppet Goverment
		name = changelings.15.a
		add_political_power = 50

			every_country = {
				limit = {
				original_tag = OLE
				}
				CHN = { puppet = { target = PREV } }
				CHN = { transfer_state = 300 transfer_state = 292 transfer_state = 301 transfer_state = 302 transfer_state = 296
 				}
			}
		}


	option = { #There is no such thing as Olenia only East Changeling Lands.
		name = changelings.15.b
		add_political_power = -100
			every_country = {
				limit = {
				original_tag = OLE
				}
				CHN = { annex_country = { target = PREV } }
		}
	}
}

country_event = { # Zecora Resistance
	id = changelings.34
	hidden = yes

	trigger = {
		tag = CHN
		has_government = fascism
		NLR = { exists = no }
		OR = {
			EQS = { exists = no }
			EQS = { is_subject_of = CHN }
		}
		any_country = {
			OR = { 
				is_subject_of = CHN
				tag = CHN 
			}
			1 = { is_owned_and_controlled_by = PREV }
		}
		divisions_in_state = { state = 1 size < 2 }
	}
	fire_only_once = yes
	mean_time_to_happen = { 
		days = 260
		modifier = {
			factor = 0.9
			has_war = yes
		}
		modifier = {
			factor = 0.5
			has_war = yes
			divisions_in_state = { state = 3 size < 2 }
		}
		modifier = {
			factor = 1.2
			has_war = no
		}
		modifier = {
			factor = 0.45
			has_war = yes
			divisions_in_state = { state = 3 size < 2 }
			divisions_in_state = { state = 2 size < 2 }
		}
	}
	option = {
		ZRS = {
			transfer_state = 1
			if = { 
				limit = { 
					ROOT = { divisions_in_state = { state = 5 size < 2 } }
				}
				transfer_state = 5
				set_capital = 5 
			}
			add_political_power = 600
			add_manpower = 100000
			if = {
				limit = {
					PREV = { has_tech = advanced_infantry_weapons }
				}
				
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_3
						amount = -1000
						producer = CHN
					}
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = improved_infantry_weapons }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_2
						amount = -1000
						producer = CHN
					}
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = infantry_weapons1 }
					
				}
				
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_1
						amount = -1000
						producer = CHN
					}
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = infantry_weapons }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_0
						amount = -1000
						producer = CHN
					}
				}
			}
			if = {
				limit = { has_global_flag = EQS_pinkie_pie_created }
				event_target:EQS_pinkie_pie = { set_nationality = PREV }
				else = {
					create_corps_commander = {
						name = "Pinkamena Diana Pie"
						portrait_path = "gfx/leaders/EQS/PinkiePie.tga"
						traits = { pinkie_pie_bae }
						skill = 3
						id = 9
						female = yes
						attack_skill = 3
						defense_skill = 4
						planning_skill = 2
						logistics_skill = 3
					}
					set_global_flag = EQS_pinkie_pie_created
					random_unit_leader = {
						limit = { has_id = 9 }
						save_global_event_target_as = EQS_pinkie_pie
					}
				}
			}
			add_ideas = everfree_resistance
			declare_war_on = { target = CHN type = puppet_wargoal_focus }
			load_oob = "ZRS_spawn"
			army_experience = 30
			every_owned_state = { add_core_of = ZRS }
			transfer_technology = yes
		}
		country_event = { id = changelings.35 }
	}
}

country_event = { # Resistance news
	id = changelings.35
	title = changelings.35.t
	desc = changelings.35.d
	picture = GFX_event_swarm

	is_triggered_only = yes
	option = {
		name = changelings.35.a
		add_political_power = -50
	}
}

country_event = {
	id = changelings.36
	title = changelings.36.t
	desc = changelings.36.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes

	option = {
		name = changelings.36.a
		ai_chance = { factor = 0 }
		add_timed_idea = { idea = chn_ditrysium_construction_1 days = 80 }
	}
	option = {
		name = changelings.36.b
		ai_chance = { factor = 100 }
		add_timed_idea = { idea = chn_ditrysium_construction_2 days = 80 }
	}
}

country_event = {
	id = changelings.37
	title = changelings.37.t
	desc = changelings.37.d
	picture = GFX_event_winter_forest

	is_triggered_only = yes

	option = {
		name = changelings.37.a
		ai_chance = { factor = 0 }
		add_timed_idea = { idea = chn_vraks_military_effort days = 80 }
	}
	option = {
		name = changelings.37.b
		ai_chance = { factor = 100 }
		add_timed_idea = { idea = chn_vraks_military_effort_2 days = 80 }
	}
}

#############################################################################
################ CHANGELING PUPPET EVENTS ###################################
################ Cosmetic tag events for EQS, CRY, STG, YAK, JAK and OLE #############
###################### are in their respective event files ##########################
################################# with love ~Scroup ############################
#############################################################################
country_event = { # Changeling Puppet
	id = changelings.900
	immediate = {log = "[Root.GetName]: event changelings.900"}#Auto-logging
	title = changelings.900.t
	desc = changelings.900.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = PLB
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.900.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = PLB_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.902
	immediate = {log = "[Root.GetName]: event changelings.902"}#Auto-logging
	title = changelings.902.t
	desc = changelings.902.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = GRF
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.902.a
		retire_country_leader = yes
		create_country_leader = {
			name = "Protector Kute"
			desc = "PROTECTOR_KUTE_DESC"
			picture = "GovernorKute.tga"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		drop_cosmetic_tag = yes
		set_cosmetic_tag = GRF_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.901
	immediate = {log = "[Root.GetName]: event changelings.901"}#Auto-logging
	title = changelings.901.t
	desc = changelings.901.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = PNG
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.901.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = PNG_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.903
	immediate = {log = "[Root.GetName]: event changelings.903"}#Auto-logging
	title = changelings.903.t
	desc = changelings.903.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = STL
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.903.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = STL_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.904
	immediate = {log = "[Root.GetName]: event changelings.904"}#Auto-logging
	title = changelings.904.t
	desc = changelings.904.d
	picture = GFX_event_swarm
	hidden = yes
	trigger = {
		original_tag = BUF
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.904.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = BUF_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.905
	immediate = {log = "[Root.GetName]: event changelings.905"}#Auto-logging
	title = changelings.905.t
	desc = changelings.905.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = DRG
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.905.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = DRG_CHN
		add_political_power = -300
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.906
	immediate = {log = "[Root.GetName]: event changelings.906"}#Auto-logging
	title = changelings.902.t
	desc = changelings.902.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = GFF
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.902.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = GFF_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Removal of cosmetic
	id = changelings.910
	immediate = {log = "[Root.GetName]: event changelings.910"}#Auto-logging
	title = changelings.910.t
	desc = changelings.910.d
	picture = GFX_event_canterlot

	trigger = {
		has_country_flag = is_changeling_puppet
		is_subject = no
		NOT = { original_tag = EQS }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.910.a
		drop_cosmetic_tag = yes
		add_political_power = 110
		clr_country_flag = is_changeling_puppet
		hidden_effect = {
			if = {
				limit = { original_tag = GRF }
				if = {
					limit = { has_country_flag = GRF_highhill_emperor_set }
					drop_cosmetic_tag = yes
					set_cosmetic_tag = GRF_EMP
					create_country_leader = {
						name = "Imperator Highill"
						picture = "Highhill.tga"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = GRF_ironclaw_emperor_set }
					drop_cosmetic_tag = yes
					set_cosmetic_tag = GRF_EMP
					create_country_leader = {
						name = "Imperator Ironclaw"
						picture = "Ironclaw.tga"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					break = yes
				}
				create_country_leader = {
					name = "Reynhard Ironclaw"

					picture = "Ironclaw.tga"
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
					}
				}
			}
			if = {
				limit = {
					original_tag = STG
					has_government = communism
					is_subject = no
				}
				load_focus_tree = stalliongrad
			}
		}
	}
}
country_event = { # Removal of cosmetic for EQS
	id = changelings.911
	immediate = {log = "[Root.GetName]: event changelings.911"}#Auto-logging
	title = changelings.910.t
	desc = changelings.910.d
	picture = GFX_event_canterlot

	trigger = {
		has_country_flag = is_changeling_puppet
		is_subject = no
		original_tag = EQS
		num_of_controlled_states > 15
		controls_fillydelphia = yes
		controls_manehattan = yes
		controls_los_pegasus = yes
		controls_baltimare = yes
		controls_canterlot = yes
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.910.a
		drop_cosmetic_tag = yes
		add_political_power = 110
		clr_country_flag = is_changeling_puppet
	}
}
